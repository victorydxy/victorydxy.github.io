<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>centos7</title>
    <url>/2020/05/08/centos7/</url>
    <content><![CDATA[<p>Centos7 相关命令</p>
<p>1.停止防火墙</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>

<p>2.wget 未找到</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">yum -y install wget</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>idea_use</title>
    <url>/2020/05/08/idea_use/</url>
    <content><![CDATA[<h1 id="IDEA使用相关"><a href="#IDEA使用相关" class="headerlink" title="IDEA使用相关"></a>IDEA使用相关</h1><p>1.target目录没有更新</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.*<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.*<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在pom.xml添加上述文件然后 mvn clean</p>
<p>2.</p>
]]></content>
  </entry>
  <entry>
    <title>docker_fastdfs</title>
    <url>/2020/05/08/docker_fastdfs/</url>
    <content><![CDATA[<p>容器镜像加速：</p>
<p>sudo mkdir -p /etc/docker </p>
<p>sudo tee /etc/docker/daemon.json<br> &lt;&lt;-‘EOF’ </p>
<p>{ “registry-mirrors”: [“<a href="https://ij6khljp.mirror.aliyuncs.com/" target="_blank" rel="noopener">https://ij6khljp.mirror.aliyuncs.com</a>“] } </p>
<p>EOF</p>
<p> sudo systemctl daemon-reload </p>
<p>sudo systemctl restart docker</p>
<p>centos 下载docker：</p>
<p>yum -y install docker-io</p>
<p>centos6.5运行命令yum install docker.io，发生错误</p>
<p>No package docker available</p>
<p>yum没有找到docker包，更新epel第三方软件库，运行命令：</p>
<p>sudo yum install epel-release</p>
<p>之后运行：</p>
<p>sudo yum install docker-io</p>
<p>之后就可以愉快地安装了。</p>
<p>docker run -it –name samba -p 139:139 -p 445:445 -v /file/sparesManage/:/file/sparesManage/ -v /etc/passwd:/etc/passwd -v /etc/group:/etc/group -d dperson/samba -s “root;/file/sparesManage/;yes;no;no;all;none”</p>
<p> TRACKER_SERVER ： tracker服务端ip</p>
<p> TR_NGX_PORT ： tracker服务端上运行的nginx端口</p>
<p> ST_NGX_PORT ： storage服务端上运行的nginx端口</p>
<p> 62e919b7efc1 : 镜像id</p>
<p> t1 ： tracker服务端名称</p>
<p>拉取镜像：</p>
<p>docker image pull delron/fastdfs</p>
<p>查看镜像：</p>
<p>[root@iZh3cshm0xz7wjZ ~]# docker images</p>
<p>REPOSITORY           TAG         IMAGE ID      CREATED       SIZE</p>
<p>docker.io/morunchang/fastdfs  latest       a729ac95698a    18 months ago    460.1 MB </p>
<p>3.运行tracker：</p>
<p> docker run -itd –name tracker –net=host  -v /data/fastdfs/tracker_data:/fastdfs/tracker/data 0109554e5a05 sh tracker.sh</p>
<p>4.运行storage：</p>
<p>docker run -d –name storage -v /data/fastdfs/storage_data:/data/fast_data/data –net=host -e TRACKER_IP=10.134.82.116:22122 -e GROUP_NAME=group1 0109554e5a05 sh storage.sh</p>
<p>Nginx : /etc/nginx/conf/nginx.conf</p>
<p>fastdf配置文件位置：/etc/fdfs</p>
<p>使用nginx显示原来的文件名字：</p>
<p>修改Nginx配置文件:</p>
<p>location / GroupDFS1/M00 {</p>
<p>​      root /home/yuqing/FastDFS/data;</p>
<p>​        if ($request_filename ~* ^.*?.(txt|doc|pdf|rar|gz|zip|docx|exe|xlsx|ppt|pptx)$){</p>
<p>​            add_header Content-Disposition: ‘attachment;’;</p>
<p>​        }</p>
<p>​        if ($arg_attname ~ “^(.*)”) {</p>
<p>​            add_header Content-Disposition “attachment;filename=$arg_attname”;</p>
<p>​        }</p>
<p>​      ngx_fastdfs_module;</p>
<p>​    }</p>
<p>SMB:</p>
<p>/file/sparesManage</p>
<p>docker run -it –name samba -p 139:139 -p 445:445 -v /file/sparesManage:/mount -v /etc/passwd:/etc/passwd -v /etc/group:/etc/group -d dperson/samba -s “www;/mount/;yes;no;no;all;none”</p>
<p>docker run –name samba -it -p 139:139 -p 445:445 -v /file/sparesManage:/file/sparesManage   -v /etc/passwd:/etc/passwd -v /etc/group:/etc/group -d dperson/samba -s “www;/mount/;yes;no;no;all;none”</p>
<p>docker run -itd –name nginx -p 8088:80 -v /file/sparesManage:/file/sparesManage nginx </p>
<p>apt-get install procps </p>
<p>VI:</p>
<p>apt-get update</p>
<p>apt-get install vim</p>
<p>Ps:</p>
<p>apt-get install procps</p>
<p>cd /etc/nginx/conf.d/ </p>
]]></content>
  </entry>
  <entry>
    <title>maven_error</title>
    <url>/2020/05/08/maven_error/</url>
    <content><![CDATA[<distributionManagement>
      <repository>
        <id>nexus-releases</id>
        <name>Nexus Release Repository</name>
        <url>http://182.254.158.159:9090/nexus/content/repositories/thirdparty</url>
      </repository>
  </distributionManagement>]]></content>
  </entry>
  <entry>
    <title>rocketmq</title>
    <url>/2020/05/08/rocketmq/</url>
    <content><![CDATA[<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">1.启动namesrc服务：</span><br><span class="line"></span><br><span class="line">nohup sh bin/mqnamesrv &amp;</span><br><span class="line"></span><br><span class="line">tail -f ~/logs/rocketmqlogs/namesrv.log</span><br><span class="line"></span><br><span class="line">tail -f  /data/mq/rocketmq-all-4.4.0/distribution/target/apache-rocketmq/logs/rocketmqlogs/namesrc.log</span><br></pre></td></tr></table></figure>

<p>2.启动broker：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br><span class="line"></span><br><span class="line"> tail -f ~/logs/rocketmqlogs/broker.log</span><br></pre></td></tr></table></figure>

<p>3.生产消费messsage：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">export NAMESRV_ADDR=localhost:9876</span><br><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer</span><br></pre></td></tr></table></figure>

<p>4.关闭服务：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sh bin&#x2F;mqshutdown broker</span><br><span class="line"></span><br><span class="line">sh bin&#x2F;mqshutdown namesrv</span><br></pre></td></tr></table></figure>



<p>5.问题：</p>
<p>Broker 禁止自动创建 Topic，且用户没有通过手工方式创建 Topic：<br>可以在 Rocket_HOME/distribution/target/apache-rocketmq 下执行 “ sh bin/mqbroker -m “ 来查看 broker 的配置参数<br>所示，autoCreateTopicEnable=true 证明是没有问题的</p>
]]></content>
  </entry>
  <entry>
    <title>maven_aliyun</title>
    <url>/2020/05/08/maven_aliyun/</url>
    <content><![CDATA[ <!-- 阿里云中央仓库 -->
<pre><code>&lt;mirror&gt;
    &lt;id&gt;nexus-aliyun&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;Nexus aliyun&lt;/name&gt;
    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
&lt;/mirror&gt;</code></pre>]]></content>
  </entry>
  <entry>
    <title>springboot_动态配置</title>
    <url>/2020/05/08/springboot_%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>1.使用@Component注解注册成组件：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//注册成一个组件</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigTwo</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Value</span>(<span class="string">"$&#123;test.name&#125;"</span>)</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.使用@ConfigurationProperties注解和启动类上@EnableConfigurationProperties({ConfigBean.class}) 这个还是使用spring的配置文件里的</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">@ConfigurationProperties(prefix &#x3D; &quot;test&quot;)</span><br><span class="line">public class ConfigOne &#123;</span><br><span class="line">	</span><br><span class="line">	private String name;</span><br><span class="line"></span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name &#x3D; name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20191211171354555.png" alt="image-20191211171354555"></p>
<p>3.使用@EnableConfigurationProperties({TestConfigBean.class}) 和</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:person.properties"</span>)</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"person"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConfigThree</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties</span>(&#123;ConfigThree<span class="class">.<span class="keyword">class</span>&#125;)</span></span><br><span class="line"><span class="class">@<span class="title">RestController</span></span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">Demo3Application2</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	@Autowired</span></span><br><span class="line"><span class="comment">//	private ConfigTwo configtwo;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//	@Autowired</span></span><br><span class="line"><span class="comment">//	private ConfigOne configone;</span></span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> ConfigThree configthree;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		SpringApplication.run(Demo3Application2<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//	</span></span><br><span class="line"><span class="comment">//	@GetMapping("/")</span></span><br><span class="line"><span class="comment">//	public String hello() &#123;</span></span><br><span class="line"><span class="comment">//		return configone.getName();</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">//	@GetMapping("/")</span></span><br><span class="line"><span class="comment">//	public String hello() &#123;</span></span><br><span class="line"><span class="comment">//		return configtwo.getName();</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	</span><br><span class="line">	<span class="meta">@GetMapping</span>(<span class="string">"/"</span>)</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> configthree.getName();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>mongodb安装</title>
    <url>/2020/05/08/mongodb%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<p>1.mongodb安装：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">D:\Developer_tools\MongoDB\bin\mongod.exe --config "D:\Developer_tools\MongoDB\config\mongod.cfg" --install</span><br></pre></td></tr></table></figure>



<p>2、代码换行   // enter</p>
]]></content>
  </entry>
  <entry>
    <title>tomcat_docbase</title>
    <url>/2020/05/08/tomcat_docbase/</url>
    <content><![CDATA[<p>tomcat使用默认的80端口需要配置的docBase：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">path</span>=<span class="string">"/"</span> <span class="attr">docBase</span>=<span class="string">"/data/soft/tomcat/webapps/jenkins"</span> <span class="attr">debug</span>=<span class="string">"0"</span> <span class="attr">reloadable</span>=<span class="string">"true"</span> <span class="attr">crossContext</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure>








]]></content>
  </entry>
  <entry>
    <title>正则语法</title>
    <url>/2020/05/08/%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">正则表达式的书写语法</span><br><span class="line"></span><br><span class="line">1、^  表示匹配字符串的开始位置  (例外  用在中括号中[ ] 时,可以理解为取反,表示不匹配括号中字符串)</span><br><span class="line"></span><br><span class="line">2、$  表示匹配字符串的结束位置</span><br><span class="line"></span><br><span class="line">3、*  表示匹配 零次到多次</span><br><span class="line"></span><br><span class="line">4、+  表示匹配 一次到多次 (至少有一次)</span><br><span class="line"></span><br><span class="line">5、?  表示匹配零次或一次</span><br><span class="line"></span><br><span class="line">6、.  表示匹配单个字符 </span><br><span class="line"></span><br><span class="line">7、|  表示为或者,两项中取一项</span><br><span class="line"></span><br><span class="line">8、(  ) 小括号表示匹配括号中全部字符</span><br><span class="line"></span><br><span class="line">9、[  ] 中括号表示匹配括号中一个字符 范围描述 如[0-9 a-z A-Z]</span><br><span class="line"></span><br><span class="line">10、&#123;  &#125; 大括号用于限定匹配次数  如 &#123;n&#125;表示匹配n个字符  &#123;n,&#125;表示至少匹配n个字符  &#123;n,m&#125;表示至少n,最多m</span><br><span class="line"></span><br><span class="line">11、\  转义字符 如上基本符号匹配都需要转义字符   如 *  表示匹配*号</span><br><span class="line"></span><br><span class="line">12、\w 表示英文字母和数字  \W  非字母和数字</span><br><span class="line"></span><br><span class="line">13、\d  表示数字   \D  非数字</span><br></pre></td></tr></table></figure>





]]></content>
  </entry>
</search>
